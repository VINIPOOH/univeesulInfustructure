user.save=INSERT INTO user(email, password) VALUES (?,?)
user.find.by.email=SELECT * FROM user WHERE user.email = ? AND user.password = ? AND user.account_non_expired = true AND user.account_non_locked = true AND user.credentials_non_expired = true AND user.enabled = true
locality.find.all.en = SELECT id, name_en AS name FROM locality
way.find.price.and.time.by.locality_send_id.and.locality_get_id.and.weight=SELECT time_on_way_in_days, (distance_in_kilometres*(price_for_kilometer_in_cents+over_pay_on_kilometer)) AS price FROM way JOIN way_tariff_weight_factor ON way.id=way_tariff_weight_factor.way_id JOIN tariff_weight_factor ON way_tariff_weight_factor.tariff_weight_factor_id=tariff_weight_factor.id WHERE locality_send_id = ? AND locality_get_id = ? AND min_weight_range < ? AND max_weight_range >= ?
user.replenish.balance=UPDATE user SET user.user_money_in_cents = user.user_money_in_cents+? WHERE user.id = ?
locality.select.by.id.ru = SELECT id, name_ru AS name FROM locality WHERE id = ?
locality.find.all.ru = SELECT id, name_ru AS name FROM locality
way.find.price.by.locality_send_id.and.locality_get_id.and.weight=SELECT (distance_in_kilometres*(price_for_kilometer_in_cents+over_pay_on_kilometer)) AS price FROM way JOIN way_tariff_weight_factor ON way.id=way_tariff_weight_factor.way_id JOIN tariff_weight_factor ON way_tariff_weight_factor.tariff_weight_factor_id=tariff_weight_factor.id WHERE locality_send_id = ? AND locality_get_id = ? AND min_weight_range < ? AND max_weight_range >= ?
create.delivery.by.weight.id.locality.send.idlocality.get.adresee.email.adresser.id=INSERT INTO delivery (delivery.addressee_id, delivery.way_id, delivery.weight) VALUES ((SELECT user.id FROM user WHERE user.email= ? ), (SELECT way.id FROM way WHERE way.locality_send_id= ? AND way.locality_get_id= ?), ?)
bill.create.by.cost.delivery.id.user.id=INSERT INTO bill (bill.cost_in_cents,bill.delivery_id, bill.user_id) VALUES((SELECT (distance_in_kilometres*(price_for_kilometer_in_cents+over_pay_on_kilometer)) AS price FROM way JOIN way_tariff_weight_factor ON way.id=way_tariff_weight_factor.way_id JOIN tariff_weight_factor ON way_tariff_weight_factor.tariff_weight_factor_id=tariff_weight_factor.id WHERE locality_send_id = ? AND locality_get_id = ? AND min_weight_range < ? AND max_weight_range >= ?),?,?);
bill.pay.info.select.by.sender.id.en=select bill.id as bill_id, bill.cost_in_cents as price, delivery.id as delivery_id, delivery.weight, user.email as addressee_email, localiti_send.name_en as locality_sand_name, localiti_get.name_en as locality_get_name from bill join delivery on bill.delivery_id=delivery.id join way on delivery.way_id=way.id join user on delivery.addressee_id=user.id join locality as localiti_send on way.locality_send_id=localiti_send.id join  locality as localiti_get on way.locality_get_id=localiti_get.id where bill.user_id = ? and bill.is_delivery_paid = false
bill.pay.info.select.by.sender.id.ru=select bill.id as bill_id, bill.cost_in_cents as price, delivery.id as delivery_id, delivery.weight, user.email as addressee_email, localiti_send.name_ru as locality_sand_name, localiti_get.name_ru as locality_get_name from bill join delivery on bill.delivery_id=delivery.id join way on delivery.way_id=way.id join user on delivery.addressee_id=user.id join locality as localiti_send on way.locality_send_id=localiti_send.id join  locality as localiti_get on way.locality_get_id=localiti_get.id where bill.user_id = ? and bill.is_delivery_paid = false
bill.update.payed.status.by.user.id=update bill set bill.is_delivery_paid=true where bill.user_id=?
user.get.user.balance.if.enough.money= update user set user.user_money_in_cents = user.user_money_in_cents-? where user.id=? and user.user_money_in_cents > ?
bill.get.prise.if.not.paid = select bill.cost_in_cents from bill where bill.id= ? and bill.is_delivery_paid=false and bill.user_id = ?
bill.set.is.paid.true = update bill set bill.is_delivery_paid=true, bill.date_of_pay = now() where bill.id = ?
delivery.get.not.received.deliveries.by.user.id.en = select delivery.id, user.email, localiti_sand.name_en as locality_sand_name, localiti_get.name_en as locality_get_name from delivery join way on delivery.way_id=way.id join bill on bill.delivery_id= delivery.id join user on bill.user_id=user.id join locality as localiti_sand on way.locality_send_id=localiti_sand.id join  locality as localiti_get on way.locality_get_id=localiti_get.id where delivery.addressee_id = ? and delivery.is_package_received = false and bill.is_delivery_paid=true
delivery.get.not.received.deliveries.by.user.id.ru = select delivery.id, user.email, localiti_sand.name_ru as locality_sand_name, localiti_get.name_ru as locality_get_name from delivery join way on delivery.way_id=way.id join bill on bill.delivery_id= delivery.id join user on bill.user_id=user.id join locality as localiti_sand on way.locality_send_id=localiti_sand.id join  locality as localiti_get on way.locality_get_id=localiti_get.id where delivery.addressee_id = ? and delivery.is_package_received = false and bill.is_delivery_paid=true
delivery.set.received.status.true = update delivery set delivery.is_package_received=true where delivery.addressee_id=? and delivery.id=?
bill.history.by.user.id=SELECT bill.id as bill_id, bill.delivery_id, bill.is_delivery_paid, bill.cost_in_cents, bill.date_of_pay FROM bill where bill.user_id = ? and bill.is_delivery_paid=true ORDER BY bill.id DESC LIMIT ?, ?
user.get.balance.by.id = select user.user_money_in_cents from user where user.id=?
count.all.not.payed.bills.by.user.id=SELECT COUNT(*) FROM bill WHERE bill.user_id=? and bill.is_delivery_paid=true
get.all.users.info=select user.email, user.password, user.role from user
locality.get.find.by.locality.send.id.ru=SELECT localityGet.id, localityGet.name_ru AS name FROM locality AS localitySend JOIN way ON localitySend.id=way.locality_send_id JOIN locality AS localityGet ON way.locality_get_id=localityGet.id WHERE localitySend.id= ?
locality.get.find.by.locality.send.id.en=SELECT localityGet.id, localityGet.name_en AS name FROM locality AS localitySend JOIN way ON localitySend.id=way.locality_send_id JOIN locality AS localityGet ON way.locality_get_id=localityGet.id WHERE localitySend.id= ?
